<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>average | Nushell</title><meta name=description content="This command allows you to calculate the average of values in a column.
Examples To get the average of the file sizes in a directory, simply pipe the size column from the ls command to the average command.
> ls | get size | average ━━━━━━━━━ <value> ━━━━━━━━━ 2282.727272727273 ━━━━━━━━━ > pwd | split-row / | size | get chars | average ━━━━━━━━━ <value> ━━━━━━━━━ 5.250000000000000 ━━━━━━━━━ Note that average only works for integer and byte values."><link rel=canonical href=https://www.nushell.sh/website_exploration/docs/commands/average/><link rel=stylesheet href=https://www.nushell.sh/website_exploration/sass/main.css><meta property="og:title" content="average"><meta property="og:description" content="This command allows you to calculate the average of values in a column.
Examples To get the average of the file sizes in a directory, simply pipe the size column from the ls command to the average command.
> ls | get size | average ━━━━━━━━━ <value> ━━━━━━━━━ 2282.727272727273 ━━━━━━━━━ > pwd | split-row / | size | get chars | average ━━━━━━━━━ <value> ━━━━━━━━━ 5.250000000000000 ━━━━━━━━━ Note that average only works for integer and byte values."><meta property="og:type" content="article"><meta property="og:url" content="https://www.nushell.sh/website_exploration/docs/commands/average/"><meta name=twitter:card content="summary"><meta name=twitter:title content="average"><meta name=twitter:description content="This command allows you to calculate the average of values in a column.
Examples To get the average of the file sizes in a directory, simply pipe the size column from the ls command to the average command.
> ls | get size | average ━━━━━━━━━ <value> ━━━━━━━━━ 2282.727272727273 ━━━━━━━━━ > pwd | split-row / | size | get chars | average ━━━━━━━━━ <value> ━━━━━━━━━ 5.250000000000000 ━━━━━━━━━ Note that average only works for integer and byte values."><script src=https://unpkg.com/quicklink@2.0.0/dist/quicklink.umd.js></script><script defer>quicklink.listen()</script></head><body><header class=nu-top-app-bar><div class=nu-top-app-bar__row><div class="nu-top-app-bar__section nu-top-app-bar__section--start"><span class=h1-minor><span class=nu-logo-green>nu</span><span class=nu-logo-black>shell</span></span></div><div class="nu-top-app-bar__section nu-top-app-bar__section--end"><a href=/website_exploration/ class="nu-top-app-bar__link h1-minor-minor"><span>home</span></a>
<a href=/website_exploration/docs class="nu-top-app-bar__link h1-minor-minor"><span>docs</span></a>
<a href=https://github.com/nushell/nushell class="nu-top-app-bar__link h1-minor-minor"><span>github</span></a></div></div></header><main class=nu-content><h2>average</h2><p>This command allows you to calculate the average of values in a column.</p><h2 id=examples>Examples</h2><p>To get the average of the file sizes in a directory, simply pipe the size column from the ls command to the average command.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>&gt; ls | get size | average
━━━━━━━━━
 &lt;value&gt;
━━━━━━━━━
2282.727272727273
━━━━━━━━━
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>&gt; pwd | split-row / | size | get chars | average
━━━━━━━━━
 &lt;value&gt;
━━━━━━━━━
5.250000000000000
━━━━━━━━━
</code></pre></div><p>Note that average only works for integer and byte values. If the shell doesn&rsquo;t recognize the values in a column as one of those types, it will return an error.
One way to solve this is to convert each row to an integer when possible and then pipe the result to <code>average</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>&gt; open tests/fixtures/formats/caco3_plastics.csv | get tariff_item | average
error: Unrecognized type in stream: Primitive<span style=color:#f92672>(</span>String<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;2509000000&#34;</span><span style=color:#f92672>))</span>
- shell:1:0
<span style=color:#ae81ff>1</span> | open tests/fixtures/formats/caco3_plastics.csv | get tariff_item | average
  | ^^^^ source
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>&gt; open tests/fixtures/formats/caco3_plastics.csv | get tariff_item | str --to-int | average
━━━━━━━━━━━━━━━━━━━
 &lt;value&gt;
───────────────────
 3239404444.000000
━━━━━━━━━━━━━━━━━━━
</code></pre></div></main></body></html>