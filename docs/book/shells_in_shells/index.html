<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Subshells | Nushell</title><meta name=description content="Using nested shells to navigate between a set of directories"><link rel=canonical href=http://example.org/docs/book/shells_in_shells/><link rel=stylesheet href=http://example.org/sass/main.css><meta property="og:title" content="Subshells"><meta property="og:description" content="Using nested shells to navigate between a set of directories"><meta property="og:type" content="article"><meta property="og:url" content="http://example.org/docs/book/shells_in_shells/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Subshells"><meta name=twitter:description content="Using nested shells to navigate between a set of directories"><script src=https://unpkg.com/quicklink@2.0.0/dist/quicklink.umd.js></script><script defer>quicklink.listen()</script></head><body><header class=nu-top-app-bar><div class=nu-top-app-bar__row><div class="nu-top-app-bar__section nu-top-app-bar__section--start"><span class=h1-minor><span class=nu-logo-green>nu</span><span class=nu-logo-black>shell</span></span></div><div class="nu-top-app-bar__section nu-top-app-bar__section--end"><a href=/ class="nu-top-app-bar__link h1-minor-minor"><span>home</span></a>
<a href=/docs class="nu-top-app-bar__link h1-minor-minor"><span>docs</span></a>
<a href=https://github.com/nushell/nushell class="nu-top-app-bar__link h1-minor-minor"><span>github</span></a></div></div></header><main class=nu-content><h2>Subshells</h2><h2 id=working-in-multiple-directories>Working in multiple directories</h2><p>While it&rsquo;s common to work in one directory, it can be handy to work in multiple places at the same time. For this, Nu offers the concept of &ldquo;shells&rdquo;. As the name implies, they&rsquo;re a way of running multiple shells in one, allowing you to quickly jump between working directories and more.</p><p>To get started, let&rsquo;s enter a directory:</p><pre><code>/home/jonathant/Source/nushell(master)&gt; enter ../book
/home/jonathant/Source/book(master)&gt; ls
────┬────────────────────┬──────┬────────┬─────────────
 #  │ name               │ type │ size   │ modified 
────┼────────────────────┼──────┼────────┼─────────────
  0 │ 404.html           │ File │  429 B │ 2 hours ago 
  1 │ CONTRIBUTING.md    │ File │  955 B │ 2 hours ago 
  2 │ Gemfile            │ File │ 1.1 KB │ 2 hours ago 
  3 │ Gemfile.lock       │ File │ 6.9 KB │ 2 hours ago 
</code></pre><p>Entering is similar to changing directories (as we saw with the <code>cd</code> command). This allows you to jump into a directory to work in it. Instead of changing the directory, we now are in two directories. To see this more clearly, we can use the <code>shells</code> command to list the current directories we have active:</p><pre><code>/home/jonathan/Source/book(master)&gt; shells
───┬────────┬────────────┬─────────────────────────────────
 # │ active │ name       │ path 
───┼────────┼────────────┼─────────────────────────────────
 0 │        │ filesystem │ /home/jonathant/Source/nushell/ 
 1 │ X      │ filesystem │ /home/jonathant/Source/book 
───┴────────┴────────────┴─────────────────────────────────
</code></pre><p>The <code>shells</code> command shows us there are two shells currently active: our original &ldquo;nushell&rdquo; source directory and now this new &ldquo;book&rdquo; directory.</p><p>We can jump between these shells with the <code>n</code> and <code>p</code> shortcuts, short for &ldquo;next&rdquo; and &ldquo;previous&rdquo;:</p><pre><code>/home/jonathant/Source/book(master)&gt; n
/home/jonathant/Source/nushell(master)&gt; p
/home/jonathant/Source/book(master)&gt;
</code></pre><p>We can see the directory changing, but we&rsquo;re always able to get back to a previous directory we were working on. This allows us to work in multiple directories in the same session.</p><h2 id=exiting-the-shell>Exiting the shell</h2><p>You can leave a shell you have <code>enter</code>ed using the <code>exit</code> command. If this is the last open shell, Nu will quit.</p><p>You can always quit Nu, even if multiple shells are active by passing the <code>--now</code> flag to the exit command. Like so: <code>exit --now</code></p><h2 id=going-beyond-directories>Going beyond directories</h2><p>Nu can also create shells from other things aside from paths in a filesystem. Let&rsquo;s say, for example, you&rsquo;re working with a large data set and don&rsquo;t want to lose your place inside of it.</p><p>To see how this works, let&rsquo;s do the following exercise. Currently, we list the <a href=plugins.md>Nu plugins</a> we have developed in the &ldquo;Cargo.toml&rdquo; file. Let&rsquo;s say we just created a new plugin in the src/plugins directory called &ldquo;doc.rs&rdquo;, and we&rsquo;re interested to know if it&rsquo;s listed in the &ldquo;Cargo.toml&rdquo; as well so that it can be compiled and installed correctly for Nu.</p><p>Let&rsquo;s <code>enter</code> the file &ldquo;Cargo.toml&rdquo; from Nu&rsquo;s source code:</p><pre><code>/home/jonathant/Source/nushell(master)&gt; enter Cargo.toml
/&gt; ls
────────────────────┬───────────────────────────
 bin                │ [table 18 rows] 
 build-dependencies │ [row nu-build serde toml] 
 dependencies       │ [row 29 columns] 
 dev-dependencies   │ [row nu-test-support] 
 features           │ [row 19 columns] 
 package            │ [row 12 columns] 
 workspace          │ [row members] 
────────────────────┴───────────────────────────
</code></pre><p>For the moment we&rsquo;ve only <code>enter</code>ed the file and we can see what&rsquo;s in it from the table <code>ls</code> gives back. If you pay close attention, this time we&rsquo;ve entered a file format that Nu understands (.toml). Nu also projects the contents of the file in a filesystem-like so we can explore it as if it were a regular filesystem.</p><p>Before we continue, let&rsquo;s check the active shells:</p><pre><code>&gt; shells
───┬────────┬─────────────────────────────────────────────┬─────────────────────────────────
 # │ active │ name                                        │ path 
───┼────────┼─────────────────────────────────────────────┼─────────────────────────────────
 0 │        │ filesystem                                  │ /home/jonathant/Source/nushell/ 
 1 │ X      │ {/home/jonathant/Source/nushell/Cargo.toml} │ / 
───┴────────┴─────────────────────────────────────────────┴─────────────────────────────────
</code></pre><p>We can observe that we have two active shells and telling us we are currently inside of &ldquo;Cargo.toml&rdquo; with a default root path &ldquo;/&rdquo;. Let&rsquo;s view the contents again:</p><pre><code>/&gt; ls
────────────────────┬───────────────────────────
 bin                │ [table 18 rows] 
 build-dependencies │ [row nu-build serde toml] 
 dependencies       │ [row 29 columns] 
 dev-dependencies   │ [row nu-test-support] 
 features           │ [row 19 columns] 
 package            │ [row 12 columns] 
 workspace          │ [row members] 
────────────────────┴───────────────────────────
</code></pre><p>What we&rsquo;re looking for might be inside of the &ldquo;bin&rdquo; column. So let&rsquo;s go into there:</p><pre><code>&gt; cd bin
/bin&gt; ls
────┬─────────────────────────────┬────────────────────────────────────────────┬───────────────────
 #  │ name                        │ path                                       │ required-features 
────┼─────────────────────────────┼────────────────────────────────────────────┼───────────────────
  0 │ fail                        │ crates/nu-test-support/src/bins/fail.rs    │ [table 1 rows] 
  1 │ chop                        │ crates/nu-test-support/src/bins/chop.rs    │ [table 1 rows] 
  2 │ cococo                      │ crates/nu-test-support/src/bins/cococo.rs  │ [table 1 rows] 
  3 │ nonu                        │ crates/nu-test-support/src/bins/nonu.rs    │ [table 1 rows] 
  4 │ iecho                       │ crates/nu-test-support/src/bins/iecho.rs   │ [table 1 rows] 
  5 │ nu_plugin_core_textview     │ src/plugins/nu_plugin_core_textview.rs     │ [table 1 rows] 
</code></pre><p>From here, we can always jump back to the directory we were working in before using p (for previous).</p><pre><code>/bin&gt; p
</code></pre><p>Let&rsquo;s verify the shells again:</p><pre><code>/home/jonathant/Source/nushell/(simple_list_view)&gt; shells
───┬────────┬─────────────────────────────────────────────┬─────────────────────────────────
 # │ active │ name                                        │ path 
───┼────────┼─────────────────────────────────────────────┼─────────────────────────────────
 0 │ X      │ filesystem                                  │ /home/jonathant/Source/nushell/ 
 1 │        │ {/home/jonathant/Source/nushell/Cargo.toml} │ /bin 
───┴────────┴─────────────────────────────────────────────┴─────────────────────────────────


</code></pre><p>We are back at the directory we were working in before entering the file &ldquo;Cargo.toml&rdquo;.</p></main><hr class=footer-line><div class=language-footer><a href=http://example.org/es/docs/book/shells_in_shells/>es: Shells en shells</a></div></body></html>