<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Tables | Nushell</title><meta name=description content="Nu's fundamental model of data"><link rel=canonical href=https://nushell.sh/website_exploration/docs/book/working_with_tables/><link rel=stylesheet href=https://nushell.sh/website_exploration/sass/main.css><meta property="og:title" content="Tables"><meta property="og:description" content="Nu's fundamental model of data"><meta property="og:type" content="article"><meta property="og:url" content="https://nushell.sh/website_exploration/docs/book/working_with_tables/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tables"><meta name=twitter:description content="Nu's fundamental model of data"><script src=https://unpkg.com/quicklink@2.0.0/dist/quicklink.umd.js></script><script defer>quicklink.listen()</script></head><body><header class=nu-top-app-bar><div class=nu-top-app-bar__row><div class="nu-top-app-bar__section nu-top-app-bar__section--start"><span class=h1-minor><span class=nu-logo-green>nu</span><span class=nu-logo-black>shell</span></span></div><div class="nu-top-app-bar__section nu-top-app-bar__section--end"><a href=/website_exploration/ class="nu-top-app-bar__link h1-minor-minor"><span>home</span></a>
<a href=/website_exploration/docs class="nu-top-app-bar__link h1-minor-minor"><span>docs</span></a>
<a href=https://github.com/nushell/nushell class="nu-top-app-bar__link h1-minor-minor"><span>github</span></a></div></div></header><main class=nu-content><h2>Tables</h2><p>One of the common ways of seeing data in Nu is through a table. Nu comes with a number of commands for working with tables to make it convenient to find what you&rsquo;re looking for, and for narrowing the data to just what you need.</p><p>To start off, let&rsquo;s get a table that we can use:</p><pre><code>&gt; ls
───┬───────────────┬──────┬─────────┬────────────
 # │ name          │ type │ size    │ modified 
───┼───────────────┼──────┼─────────┼────────────
 0 │ files.rs      │ File │  4.6 KB │ 5 days ago 
 1 │ lib.rs        │ File │   330 B │ 5 days ago 
 2 │ lite_parse.rs │ File │  6.3 KB │ 5 days ago 
 3 │ parse.rs      │ File │ 49.8 KB │ 1 day ago 
 4 │ path.rs       │ File │  2.1 KB │ 5 days ago 
 5 │ shapes.rs     │ File │  4.7 KB │ 5 days ago 
 6 │ signature.rs  │ File │  1.2 KB │ 5 days ago 
───┴───────────────┴──────┴─────────┴────────────
</code></pre><h2 id=sorting-the-data>Sorting the data</h2><p>We can sort a table by calling the <code>sort-by</code> command and telling it which columns we want to use in the sort. Let&rsquo;s say we wanted to sort our table by the size of the file:</p><pre><code>&gt; ls | sort-by size
───┬───────────────┬──────┬─────────┬────────────
 # │ name          │ type │ size    │ modified 
───┼───────────────┼──────┼─────────┼────────────
 0 │ lib.rs        │ File │   330 B │ 5 days ago 
 1 │ signature.rs  │ File │  1.2 KB │ 5 days ago 
 2 │ path.rs       │ File │  2.1 KB │ 5 days ago 
 3 │ files.rs      │ File │  4.6 KB │ 5 days ago 
 4 │ shapes.rs     │ File │  4.7 KB │ 5 days ago 
 5 │ lite_parse.rs │ File │  6.3 KB │ 5 days ago 
 6 │ parse.rs      │ File │ 49.8 KB │ 1 day ago 
───┴───────────────┴──────┴─────────┴────────────
</code></pre><p>We can sort a table by any column that can be compared. For example, we could also have sorted the above using the &ldquo;name&rdquo;, &ldquo;accessed&rdquo;, or &ldquo;modified&rdquo; columns.</p><h2 id=selecting-the-data-you-want>Selecting the data you want</h2><p>We can select data from a table by choosing to select specific columns or specific rows. Let&rsquo;s <code>select</code> a few columns from our table to use:</p><pre><code>&gt; ls | select name size
───┬───────────────┬─────────
 # │ name          │ size 
───┼───────────────┼─────────
 0 │ files.rs      │  4.6 KB 
 1 │ lib.rs        │   330 B 
 2 │ lite_parse.rs │  6.3 KB 
 3 │ parse.rs      │ 49.8 KB 
 4 │ path.rs       │  2.1 KB 
 5 │ shapes.rs     │  4.7 KB 
 6 │ signature.rs  │  1.2 KB 
───┴───────────────┴─────────
</code></pre><p>This helps to create a table that&rsquo;s more focused on what we need. Next, let&rsquo;s say we want to only look at the 5 smallest files in this directory:</p><pre><code>&gt; ls | sort-by size | first 5
───┬──────────────┬──────┬────────┬────────────
 # │ name         │ type │ size   │ modified 
───┼──────────────┼──────┼────────┼────────────
 0 │ lib.rs       │ File │  330 B │ 5 days ago 
 1 │ signature.rs │ File │ 1.2 KB │ 5 days ago 
 2 │ path.rs      │ File │ 2.1 KB │ 5 days ago 
 3 │ files.rs     │ File │ 4.6 KB │ 5 days ago 
 4 │ shapes.rs    │ File │ 4.7 KB │ 5 days ago 
───┴──────────────┴──────┴────────┴────────────
</code></pre><p>You&rsquo;ll notice we first sort the table by size to get to the smallest file, and then we use the <code>first 5</code> to return the first 5 rows of the table.</p><p>You can also <code>skip</code> rows that you don&rsquo;t want. Let&rsquo;s skip the first two of the 5 rows we returned above:</p><pre><code>&gt; ls | sort-by size | first 5 | skip 2
───┬───────────┬──────┬────────┬────────────
 # │ name      │ type │ size   │ modified 
───┼───────────┼──────┼────────┼────────────
 0 │ path.rs   │ File │ 2.1 KB │ 5 days ago 
 1 │ files.rs  │ File │ 4.6 KB │ 5 days ago 
 2 │ shapes.rs │ File │ 4.7 KB │ 5 days ago 
───┴───────────┴──────┴────────┴────────────
</code></pre><p>We&rsquo;ve narrowed it to three rows we care about.</p><p>Let&rsquo;s look at a few other commands for selecting data. You may have wondered why the rows of the table are numbers. This acts as a handy way to get to a single row. Let&rsquo;s sort our table by the file name and then pick one of the rows with the <code>nth</code> command using its row number:</p><pre><code>&gt; ls | sort-by name
───┬───────────────┬──────┬─────────┬────────────
 # │ name          │ type │ size    │ modified 
───┼───────────────┼──────┼─────────┼────────────
 0 │ files.rs      │ File │  4.6 KB │ 5 days ago 
 1 │ lib.rs        │ File │   330 B │ 5 days ago 
 2 │ lite_parse.rs │ File │  6.3 KB │ 5 days ago 
 3 │ parse.rs      │ File │ 49.8 KB │ 1 day ago 
 4 │ path.rs       │ File │  2.1 KB │ 5 days ago 
 5 │ shapes.rs     │ File │  4.7 KB │ 5 days ago 
 6 │ signature.rs  │ File │  1.2 KB │ 5 days ago 
───┴───────────────┴──────┴─────────┴────────────

&gt; ls | sort-by name | nth 5
──────────┬────────────
 name     │ shapes.rs 
 type     │ File 
 size     │ 4.7 KB 
 modified │ 5 days ago 
──────────┴────────────
</code></pre><h2 id=getting-data-out-of-a-table>Getting data out of a table</h2><p>So far, we&rsquo;ve worked with tables by trimming the table down to only what we need. Sometimes we may want to go a step further and only look at the values in the cells themselves rather than taking a whole column. Let&rsquo;s say, for example, we wanted to only get a list of the names of the files. For this, we use the <code>get</code> command:</p><pre><code>&gt; ls | get name
───┬───────────────
 0 │ files.rs 
 1 │ lib.rs 
 2 │ lite_parse.rs 
 3 │ parse.rs 
 4 │ path.rs 
 5 │ shapes.rs 
 6 │ signature.rs 
───┴───────────────
</code></pre><p>We now have the values for each of the filenames.</p><p>This might look like the <code>select</code> command we saw earlier, so let&rsquo;s put that here as well to compare the two:</p><pre><code>&gt; ls | select name
───┬───────────────
 # │ name 
───┼───────────────
 0 │ files.rs 
 1 │ lib.rs 
 2 │ lite_parse.rs 
 3 │ parse.rs 
 4 │ path.rs 
 5 │ shapes.rs 
 6 │ signature.rs 
───┴───────────────
</code></pre><p>These look very similar! Let&rsquo;s see if we can spell out the difference between these two commands to make it clear:</p><ul><li><code>select</code> - creates a new table which includes only the columns specified</li><li><code>get</code> - returns the values inside the column specified as a list</li></ul><p>The one way to tell these apart looking at the table is the characteristic <code>value</code> column name, which lets us know that this is going to be a list of values we can work with.</p><p>The <code>get</code> command can go one step further and take a path to data deeper in the table. This simplifies working with more complex data, like the structures you might find in a .json file.</p><h2 id=changing-data-in-a-table>Changing data in a table</h2><p>In addition to selecting data from a table, we can also update what the table has. We may want to add new columns, or edit the contents of a cell. In Nu, rather than editing in place, each of the commands in the section will return a new table in the pipeline.</p><h3 id=adding-a-new-column>Adding a new column</h3><p>We can use the <code>add</code> command to add a new column to the table. Let&rsquo;s look at an example:</p><pre><code>&gt; open rustfmt.toml
─────────┬──────
 edition │ 2018 
─────────┴──────
</code></pre><p>Let&rsquo;s add an column called &ldquo;next_edition&rdquo; with the value 2021:</p><pre><code>&gt; open rustfmt.toml | insert next_edition 2021
──────────────┬──────
 edition      │ 2018 
 next_edition │ 2021 
──────────────┴──────
</code></pre><p>Notice that we if open the original file, the contents have stayed the same:</p><pre><code>&gt; open rustfmt.toml
─────────┬──────
 edition │ 2018 
─────────┴──────
</code></pre><p>Changes in Nu are functional changes, meaning that they work on the values themselves rather than trying to cause a permanent change. This lets us do many different types of work in our
pipeline until we&rsquo;re ready to write out the result with any changes we&rsquo;d like if we choose to. Here we could write out the result using the <code>save</code> command:</p><pre><code>&gt; open rustfmt.toml | insert next_edition 2021 | save rustfmt2.toml
&gt; open rustfmt2.toml
──────────────┬──────
 edition      │ 2018 
 next_edition │ 2021 
──────────────┴──────
</code></pre><h3 id=updating-a-column>Updating a column</h3><p>Similarly to the <code>insert</code> command, we can also use the <code>update</code> command to change the contents of a column to a new value. To see it in action let&rsquo;s open the same file:</p><pre><code>&gt; open rustfmt.toml
─────────┬──────
 edition │ 2018 
─────────┴──────
</code></pre><p>And now, let&rsquo;s update the edition to point at the next edition we hope to support:</p><pre><code>&gt; open rustfmt.toml | update edition 2021
─────────┬──────
 edition │ 2021 
─────────┴──────
</code></pre><h3 id=incrementing-values>Incrementing values</h3><p>There&rsquo;s one more command that Nu supports that will help us work with numbers and versions: <code>inc</code>.</p><pre><code>&gt; open rustfmt.toml
─────────┬──────
 edition │ 2018 
─────────┴──────
&gt; open rustfmt.toml | inc edition
─────────┬──────
 edition │ 2019 
─────────┴──────
</code></pre><p>Because the value in &ldquo;edition&rdquo; is a number, we can use <code>inc</code> to update it. Where <code>inc</code> really shines is working with versions:</p><pre><code>&gt; open Cargo.toml | get package.version
0.1.3
&gt; open Cargo.toml | inc package.version --minor | get package.version
0.2.0
</code></pre><p>When working with versions, we can use the flag to say how to increment the version:</p><ul><li><strong>&ndash;major</strong> - increment the major version (0.1.3 -> 1.0.0)</li><li><strong>&ndash;minor</strong> - increment the minor version (0.1.3 -> 0.2.0)</li><li><strong>&ndash;patch</strong> - increment the patch version (0.1.3 -> 0.1.4)</li></ul></main><hr class=footer-line><div class=language-footer><a href=https://nushell.sh/website_exploration/es/docs/book/working_with_tables/>es: Trabajando con tablas</a></div></body></html>